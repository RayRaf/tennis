{% extends 'base.html' %}
{% block title %}{{ player.full_name }} ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞{% endblock %}
{% block content %}
  <h1>üë§ {{ player.full_name }}</h1>
  <div class="content">
    <div class="dashboard-cards" style="display:flex; flex-wrap:wrap; gap:1rem; margin-bottom:1.25rem;">
      <div class="card stat" style="min-width:140px;">
        <div class="stat-title">–ò–≥—Ä—ã</div>
        <div class="stat-value" style="font-size:2rem;">{{ overall.total_games }}</div>
      </div>
      <div class="card stat" style="min-width:140px;">
        <div class="stat-title">–ü–æ–±–µ–¥—ã</div>
        <div class="stat-value" style="font-size:2rem;">{{ overall.wins }}</div>
      </div>
      <div class="card stat" style="min-width:140px;">
        <div class="stat-title">–ü–æ—Ä–∞–∂–µ–Ω–∏—è</div>
        <div class="stat-value" style="font-size:2rem;">{{ overall.losses }}</div>
      </div>
      <div class="card stat" style="min-width:140px;">
        <div class="stat-title">% –ø–æ–±–µ–¥</div>
        <div class="stat-value" style="font-size:2rem;">{{ overall.win_percent }}%</div>
      </div>
      <div class="card stat" style="min-width:140px;">
        <div class="stat-title">–ù–∞–±—Ä–∞–Ω–Ω—ã–µ –æ—á–∫–∏</div>
        <div class="stat-value" style="font-size:2rem;">{{ overall.scored_points }}</div>
      </div>
    </div>

    <h2>üë• –í–∑–∞–∏–º–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏ –≤ –∫–ª—É–±–µ ¬´{{ club.name }}¬ª</h2>
    <div class="tournament-table-wrapper">
      <table class="tournament-table sortable-table">
        <thead>
          <tr>
            <th data-type="text">–°–æ–ø–µ—Ä–Ω–∏–∫</th>
            <th data-type="number">–ò–≥—Ä</th>
            <th data-type="number">–ü–æ–±–µ–¥</th>
            <th data-type="number">–ü–æ—Ä–∞–∂–µ–Ω–∏–π</th>
            <th data-type="number">% –ø–æ–±–µ–¥</th>
          </tr>
        </thead>
        <tbody>
          {% for row in h2h_rows %}
            <tr>
              <td><a href="{% url 'tennis_app:player_detail' row.opponent.id %}">{{ row.opponent.full_name }}</a></td>
              <td>{{ row.games }}</td>
              <td>{{ row.wins }}</td>
              <td>{{ row.losses }}</td>
              <td>{{ row.win_pct }}%</td>
            </tr>
          {% empty %}
            <tr><td colspan="5" style="text-align:center; color: var(--text-muted);">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div style="margin-top:1rem;">
      <a class="btn" href="{% url 'tennis_app:club_detail' club.id %}">‚Üê –ù–∞–∑–∞–¥ –≤ –∫–ª—É–±</a>
    </div>
  </div>
{% endblock %}
